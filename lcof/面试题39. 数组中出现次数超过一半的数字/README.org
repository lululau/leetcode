* [[https://leetcode-cn.com/problems/shu-zu-zhong-chu-xian-ci-shu-chao-guo-yi-ban-de-shu-zi-lcof/][面试题 39.
数组中出现次数超过一半的数字]]
  :PROPERTIES:
  :CUSTOM_ID: 面试题-39.-数组中出现次数超过一半的数字
  :END:
** 题目描述
   :PROPERTIES:
   :CUSTOM_ID: 题目描述
   :END:
数组中有一个数字出现的次数超过数组长度的一半，请找出这个数字。

你可以假设数组是非空的，并且给定的数组总是存在多数元素。

*示例  1:*

#+begin_example
  输入: [1, 2, 3, 2, 2, 2, 5, 4, 2]
  输出: 2
#+end_example

*限制：*

- =1 <= 数组长度 <= 50000=

** 解法
   :PROPERTIES:
   :CUSTOM_ID: 解法
   :END:
摩尔投票法。时间复杂度 O(n)，空间复杂度 O(1)。

#+begin_html
  <!-- tabs:start -->
#+end_html

*** *Python3*
    :PROPERTIES:
    :CUSTOM_ID: python3
    :END:
#+begin_src python
  class Solution:
      def majorityElement(self, nums: List[int]) -> int:
          cnt = major = 0
          for num in nums:
              if cnt == 0:
                  major = num
                  cnt += 1
              else:
                  cnt += (1 if major == num else -1)
          return major
#+end_src

*** *Java*
    :PROPERTIES:
    :CUSTOM_ID: java
    :END:
#+begin_src java
  class Solution {
      public int majorityElement(int[] nums) {
          int major = 0, cnt = 0;
          for (int num : nums) {
              if (cnt == 0) {
                  major = num;
                  ++cnt;
              } else {
                  cnt += (num == major ? 1 : -1);
              }
          }
          return major;
      }
  }
#+end_src

*** *JavaScript*
    :PROPERTIES:
    :CUSTOM_ID: javascript
    :END:
#+begin_src js
  /**
   * @param {number[]} nums
   * @return {number}
   */
  var majorityElement = function (nums) {
    let cnt = 0;
    let mode = -1;
    for (let num of nums) {
      if (!cnt) {
        mode = num;
        cnt++;
      } else {
        if (mode === num) cnt++;
        else cnt--;
      }
    }
    return mode;
    // return nums.sort((a,b)=>a-b)[~~(nums.length/2)]
  };
#+end_src

*** *C++*
    :PROPERTIES:
    :CUSTOM_ID: c
    :END:
#+begin_src cpp
  class Solution {
  public:
      int majorityElement(vector<int>& nums) {
          int votes = 0, x = 0;
          for (int num : nums) {
              if (votes == 0) x = num;
              votes += x == num ? 1 : -1;
          }
          return x;
      }
  };
#+end_src

*** *...*
    :PROPERTIES:
    :CUSTOM_ID: section
    :END:
#+begin_example
#+end_example

#+begin_html
  <!-- tabs:end -->
#+end_html
