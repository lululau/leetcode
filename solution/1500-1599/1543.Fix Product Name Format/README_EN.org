* [[https://leetcode.com/problems/fix-product-name-format][1543. Fix
Product Name Format]]
  :PROPERTIES:
  :CUSTOM_ID: fix-product-name-format
  :END:
[[./solution/1500-1599/1543.Fix Product Name Format/README.org][中文文档]]

** Description
   :PROPERTIES:
   :CUSTOM_ID: description
   :END:

#+begin_html
  <p>
#+end_html

Table: Sales

#+begin_html
  </p>
#+end_html

#+begin_html
  <pre>
  +--------------+---------+
  | Column Name  | Type    |
  +--------------+---------+
  | sale_id      | int     |
  | product_name | varchar |
  | sale_date    | date    |
  +--------------+---------+
  sale_id is the primary key for this table.
  Each row of this table contains the product name and the date it was sold.
  </pre>
#+end_html

#+begin_html
  <p>
#+end_html

 

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

Since table Sales was filled manually in the year 2000, product_name may
contain leading and/or trailing white spaces, also they are
case-insensitive.

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

Write an SQL query to report

#+begin_html
  </p>
#+end_html

#+begin_html
  <ul>
#+end_html

#+begin_html
  <li>
#+end_html

product_name in lowercase without leading or trailing white spaces.

#+begin_html
  </li>
#+end_html

#+begin_html
  <li>
#+end_html

sale_date in the format ('YYYY-MM').

#+begin_html
  </li>
#+end_html

#+begin_html
  <li>
#+end_html

total the number of times the product was sold in this month.

#+begin_html
  </li>
#+end_html

#+begin_html
  </ul>
#+end_html

#+begin_html
  <p>
#+end_html

Return the result table ordered by product_name in ascending order. In
case of a tie, order it by sale_date in ascending order.

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

The query result format is in the following example.

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

 

#+begin_html
  </p>
#+end_html

#+begin_html
  <pre>
  <code>Sales</code>
  +---------+--------------+------------+
  | sale_id | product_name | sale_date  |
  +---------+--------------+------------+
  | 1       | LCPHONE      | 2000-01-16 |
  | 2       | LCPhone      | 2000-01-17 |
  | 3       | LcPhOnE      | 2000-02-18 |
  | 4       | LCKeyCHAiN   | 2000-02-19 |
  | 5       | LCKeyChain   | 2000-02-28 |
  | 6       | Matryoshka   | 2000-03-31 |
  +---------+--------------+------------+

  Result table:
  +--------------+-----------+-------+
  | product_name | sale_date | total |
  +--------------+-----------+-------+
  | lckeychain   | 2000-02   | 2     |
  | lcphone      | 2000-01   | 2     |
  | lcphone      | 2000-02   | 1     |
  | matryoshka   | 2000-03   | 1     |
  +--------------+-----------+-------+
  In January, 2 LcPhones were sold, please note that the product names are not case sensitive and may contain spaces.
  In Februery, 2 LCKeychains and 1 LCPhone were sold.
  In March, 1 matryoshka was sold.
  </pre>
#+end_html

** Solutions
   :PROPERTIES:
   :CUSTOM_ID: solutions
   :END:

#+begin_html
  <!-- tabs:start -->
#+end_html

*** *SQL*
    :PROPERTIES:
    :CUSTOM_ID: sql
    :END:
#+begin_src sql
#+end_src

#+begin_html
  <!-- tabs:end -->
#+end_html
