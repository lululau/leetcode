* [[https://leetcode.com/problems/active-users][1454. Active Users]]
  :PROPERTIES:
  :CUSTOM_ID: active-users
  :END:
[[./solution/1400-1499/1454.Active Users/README.org][中文文档]]

** Description
   :PROPERTIES:
   :CUSTOM_ID: description
   :END:

#+begin_html
  <p>
#+end_html

Table Accounts:

#+begin_html
  </p>
#+end_html

#+begin_html
  <pre>
  +---------------+---------+
  | Column Name   | Type    |
  +---------------+---------+
  | id            | int     |
  | name          | varchar |
  +---------------+---------+
  the id is the primary key for this table.
  This table contains the account id and the user name of each account.
  </pre>
#+end_html

#+begin_html
  <p>
#+end_html

 

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

Table Logins:

#+begin_html
  </p>
#+end_html

#+begin_html
  <pre>
  +---------------+---------+
  | Column Name   | Type    |
  +---------------+---------+
  | id            | int     |
  | login_date    | date    |
  +---------------+---------+
  There is no primary key for this table, it may contain duplicates.
  This table contains the account id of the user who logged in and the login date. A user may log in multiple times in the day.
  </pre>
#+end_html

#+begin_html
  <p>
#+end_html

 

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

Write an SQL query to find the id and the name of active users.

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

Active users are those who logged in to their accounts for 5 or more
consecutive days.

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

Return the result table ordered by the id.

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

The query result format is in the following example:

#+begin_html
  </p>
#+end_html

#+begin_html
  <pre>
  Accounts table:
  +----+----------+
  | id | name     |
  +----+----------+
  | 1  | Winston  |
  | 7  | Jonathan |
  +----+----------+

  Logins table:
  +----+------------+
  | id | login_date |
  +----+------------+
  | 7  | 2020-05-30 |
  | 1  | 2020-05-30 |
  | 7  | 2020-05-31 |
  | 7  | 2020-06-01 |
  | 7  | 2020-06-02 |
  | 7  | 2020-06-02 |
  | 7  | 2020-06-03 |
  | 1  | 2020-06-07 |
  | 7  | 2020-06-10 |
  +----+------------+

  Result table:
  +----+----------+
  | id | name     |
  +----+----------+
  | 7  | Jonathan |
  +----+----------+
  User Winston with id = 1 logged in 2 times only in 2 different days, so, Winston is not an active user.
  User Jonathan with id = 7 logged in 7 times in 6 different days, five of them were consecutive days, so, Jonathan is an active user.
  </pre>
#+end_html

#+begin_html
  <p>
#+end_html

Follow up question: Can you write a general solution if the active users
are those who logged in to their accounts for n or more consecutive
days?

#+begin_html
  </p>
#+end_html

** Solutions
   :PROPERTIES:
   :CUSTOM_ID: solutions
   :END:

#+begin_html
  <!-- tabs:start -->
#+end_html

*** *SQL*
    :PROPERTIES:
    :CUSTOM_ID: sql
    :END:
#+begin_src sql
#+end_src

#+begin_html
  <!-- tabs:end -->
#+end_html
