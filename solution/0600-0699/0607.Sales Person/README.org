* [[https://leetcode-cn.com/problems/sales-person][607. 销售员]]
  :PROPERTIES:
  :CUSTOM_ID: 销售员
  :END:
[[./solution/0600-0699/0607.Sales Person/README_EN.org][English
Version]]

** 题目描述
   :PROPERTIES:
   :CUSTOM_ID: 题目描述
   :END:

#+begin_html
  <!-- 这里写题目描述 -->
#+end_html

#+begin_html
  <p>
#+end_html

描述

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

给定 3 个表： salesperson， company， orders。
输出所有表 salesperson 中，没有向公司 'RED' 销售任何东西的销售员。

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

示例： 输入

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

表： salesperson

#+begin_html
  </p>
#+end_html

#+begin_html
  <pre>+----------+------+--------+-----------------+-----------+
  | sales_id | name | salary | commission_rate | hire_date |
  +----------+------+--------+-----------------+-----------+
  |   1      | John | 100000 |     6           | 4/1/2006  |
  |   2      | Amy  | 120000 |     5           | 5/1/2010  |
  |   3      | Mark | 65000  |     12          | 12/25/2008|
  |   4      | Pam  | 25000  |     25          | 1/1/2005  |
  |   5      | Alex | 50000  |     10          | 2/3/2007  |
  +----------+------+--------+-----------------+-----------+
  </pre>
#+end_html

#+begin_html
  <p>
#+end_html

表 salesperson
存储了所有销售员的信息。每个销售员都有一个销售员编号 sales_id
和他的名字 name 。

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

表： company

#+begin_html
  </p>
#+end_html

#+begin_html
  <pre>+---------+--------+------------+
  | com_id  |  name  |    city    |
  +---------+--------+------------+
  |   1     |  RED   |   Boston   |
  |   2     | ORANGE |   New York |
  |   3     | YELLOW |   Boston   |
  |   4     | GREEN  |   Austin   |
  +---------+--------+------------+
  </pre>
#+end_html

#+begin_html
  <p>
#+end_html

表 company 存储了所有公司的信息。每个公司都有一个公司编号 com_id 和它的名字
name 。

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

表： orders

#+begin_html
  </p>
#+end_html

#+begin_html
  <pre>+----------+------------+---------+----------+--------+
  | order_id | order_date | com_id  | sales_id | amount |
  +----------+------------+---------+----------+--------+
  | 1        |   1/1/2014 |    3    |    4     | 100000 |
  | 2        |   2/1/2014 |    4    |    5     | 5000   |
  | 3        |   3/1/2014 |    1    |    1     | 50000  |
  | 4        |   4/1/2014 |    1    |    4     | 25000  |
  +----------+----------+---------+----------+--------+
  </pre>
#+end_html

#+begin_html
  <p>
#+end_html

表 orders 存储了所有的销售数据，包括销售员编号 sales_id 和公司编号
com_id 。

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

输出

#+begin_html
  </p>
#+end_html

#+begin_html
  <pre>+------+
  | name | 
  +------+
  | Amy  | 
  | Mark | 
  | Alex |
  +------+
  </pre>
#+end_html

#+begin_html
  <p>
#+end_html

解释

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

根据表 orders 中的订单 '3' 和 '4' ，容易看出只有 'John' 和 'Pam'
两个销售员曾经向公司 'RED' 销售过。

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

所以我们需要输出表 salesperson 中所有其他人的名字。

#+begin_html
  </p>
#+end_html

** 解法
   :PROPERTIES:
   :CUSTOM_ID: 解法
   :END:

#+begin_html
  <!-- 这里可写通用的实现逻辑 -->
#+end_html

#+begin_html
  <!-- tabs:start -->
#+end_html

*** *SQL*
    :PROPERTIES:
    :CUSTOM_ID: sql
    :END:
#+begin_src sql
  # Write your MySQL query statement below
  SELECT name
  FROM salesperson
  WHERE sales_id
  NOT IN (
      SELECT s.sales_id FROM orders o
      INNER JOIN salesperson s ON o.sales_id = s.sales_id
      INNER JOIN company c ON o.com_id = c.com_id
      WHERE c.name = 'RED'
  );
#+end_src

#+begin_html
  <!-- tabs:end -->
#+end_html
