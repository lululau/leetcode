* [[https://leetcode-cn.com/problems/snapshot-array][1146. 快照数组]]
  :PROPERTIES:
  :CUSTOM_ID: 快照数组
  :END:
[[./solution/1100-1199/1146.Snapshot Array/README_EN.org][English
Version]]

** 题目描述
   :PROPERTIES:
   :CUSTOM_ID: 题目描述
   :END:

#+begin_html
  <!-- 这里写题目描述 -->
#+end_html

#+begin_html
  <p>
#+end_html

实现支持下列接口的「快照数组」- SnapshotArray：

#+begin_html
  </p>
#+end_html

#+begin_html
  <ul>
#+end_html

#+begin_html
  <li>
#+end_html

SnapshotArray(int length) - 初始化一个与指定长度相等的 类数组
的数据结构。初始时，每个元素都等于 0。

#+begin_html
  </li>
#+end_html

#+begin_html
  <li>
#+end_html

void set(index, val) - 会将指定索引 index 处的元素设置为 val。

#+begin_html
  </li>
#+end_html

#+begin_html
  <li>
#+end_html

int snap() -
获取该数组的快照，并返回快照的编号 snap_id（快照号是调用 snap() 的总次数减去 1）。

#+begin_html
  </li>
#+end_html

#+begin_html
  <li>
#+end_html

int get(index, snap_id) -
根据指定的 snap_id 选择快照，并返回该快照指定索引 index 的值。

#+begin_html
  </li>
#+end_html

#+begin_html
  </ul>
#+end_html

#+begin_html
  <p>
#+end_html

 

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

示例：

#+begin_html
  </p>
#+end_html

#+begin_html
  <pre><strong>输入：</strong>[&quot;SnapshotArray&quot;,&quot;set&quot;,&quot;snap&quot;,&quot;set&quot;,&quot;get&quot;]
       [[3],[0,5],[],[0,6],[0,0]]
  <strong>输出：</strong>[null,null,0,null,5]
  <strong>解释：
  </strong>SnapshotArray snapshotArr = new SnapshotArray(3); // 初始化一个长度为 3 的快照数组
  snapshotArr.set(0,5);  // 令 array[0] = 5
  snapshotArr.snap();  // 获取快照，返回 snap_id = 0
  snapshotArr.set(0,6);
  snapshotArr.get(0,0);  // 获取 snap_id = 0 的快照中 array[0] 的值，返回 5</pre>
#+end_html

#+begin_html
  <p>
#+end_html

 

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

提示：

#+begin_html
  </p>
#+end_html

#+begin_html
  <ul>
#+end_html

#+begin_html
  <li>
#+end_html

1 <= length <= 50000

#+begin_html
  </li>
#+end_html

#+begin_html
  <li>
#+end_html

题目最多进行50000 次set，snap，和 get的调用 。

#+begin_html
  </li>
#+end_html

#+begin_html
  <li>
#+end_html

0 <= index < length

#+begin_html
  </li>
#+end_html

#+begin_html
  <li>
#+end_html

0 <= snap_id < 我们调用 snap() 的总次数

#+begin_html
  </li>
#+end_html

#+begin_html
  <li>
#+end_html

0 <= val <= 10^9

#+begin_html
  </li>
#+end_html

#+begin_html
  </ul>
#+end_html

** 解法
   :PROPERTIES:
   :CUSTOM_ID: 解法
   :END:

#+begin_html
  <!-- 这里可写通用的实现逻辑 -->
#+end_html

#+begin_html
  <!-- tabs:start -->
#+end_html

*** *Python3*
    :PROPERTIES:
    :CUSTOM_ID: python3
    :END:

#+begin_html
  <!-- 这里可写当前语言的特殊实现逻辑 -->
#+end_html

#+begin_src python
#+end_src

*** *Java*
    :PROPERTIES:
    :CUSTOM_ID: java
    :END:

#+begin_html
  <!-- 这里可写当前语言的特殊实现逻辑 -->
#+end_html

#+begin_src java
#+end_src

*** *...*
    :PROPERTIES:
    :CUSTOM_ID: section
    :END:
#+begin_example
#+end_example

#+begin_html
  <!-- tabs:end -->
#+end_html
