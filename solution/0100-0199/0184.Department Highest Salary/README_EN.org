* [[https://leetcode.com/problems/department-highest-salary][184.
Department Highest Salary]]
  :PROPERTIES:
  :CUSTOM_ID: department-highest-salary
  :END:
[[./solution/0100-0199/0184.Department Highest Salary/README.org][中文文档]]

** Description
   :PROPERTIES:
   :CUSTOM_ID: description
   :END:

#+begin_html
  <p>
#+end_html

The Employee table holds all employees. Every employee has an Id, a
salary, and there is also a column for the department Id.

#+begin_html
  </p>
#+end_html

#+begin_html
  <pre>

  +----+-------+--------+--------------+

  | Id | Name  | Salary | DepartmentId |

  +----+-------+--------+--------------+

  | 1  | Joe   | 70000  | 1            |

  | 2 &nbsp;| Jim &nbsp; | 90000 &nbsp;| 1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|

  | 3  | Henry | 80000  | 2            |

  | 4  | Sam   | 60000  | 2            |

  | 5  | Max   | 90000  | 1            |

  +----+-------+--------+--------------+

  </pre>
#+end_html

#+begin_html
  <p>
#+end_html

The Department table holds all departments of the company.

#+begin_html
  </p>
#+end_html

#+begin_html
  <pre>

  +----+----------+

  | Id | Name     |

  +----+----------+

  | 1  | IT       |

  | 2  | Sales    |

  +----+----------+

  </pre>
#+end_html

#+begin_html
  <p>
#+end_html

Write a SQL query to find employees who have the highest salary in each
of the departments. For the above tables, your SQL query should return
the following rows (order of rows does not matter).

#+begin_html
  </p>
#+end_html

#+begin_html
  <pre>

  +------------+----------+--------+

  | Department | Employee | Salary |

  +------------+----------+--------+

  | IT         | Max      | 90000  |

  | IT &nbsp; &nbsp; &nbsp; &nbsp; | Jim &nbsp; &nbsp; &nbsp;| 90000 &nbsp;|

  | Sales      | Henry    | 80000  |

  +------------+----------+--------+

  </pre>
#+end_html

#+begin_html
  <p>
#+end_html

Explanation:

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

Max and Jim both have the highest salary in the IT department and Henry
has the highest salary in the Sales department.

#+begin_html
  </p>
#+end_html

** Solutions
   :PROPERTIES:
   :CUSTOM_ID: solutions
   :END:

#+begin_html
  <!-- tabs:start -->
#+end_html

*** *SQL*
    :PROPERTIES:
    :CUSTOM_ID: sql
    :END:
#+begin_example
  SELECT
      Department.NAME AS Department,
      Employee.NAME AS Employee,
      Salary
  FROM
      Employee,
      Department
  WHERE
      Employee.DepartmentId = Department.Id
      AND ( Employee.DepartmentId, Salary )
      IN (SELECT DepartmentId, max( Salary )
          FROM Employee
          GROUP BY DepartmentId )
#+end_example

#+begin_html
  <!-- tabs:end -->
#+end_html
