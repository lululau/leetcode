* [[https://leetcode-cn.com/problems/ugly-number-ii][264. 丑数 II]]
  :PROPERTIES:
  :CUSTOM_ID: 丑数-ii
  :END:
[[./solution/0200-0299/0264.Ugly Number II/README_EN.org][English
Version]]

** 题目描述
   :PROPERTIES:
   :CUSTOM_ID: 题目描述
   :END:

#+begin_html
  <!-- 这里写题目描述 -->
#+end_html

#+begin_html
  <p>
#+end_html

给你一个整数 n ，请你找出并返回第 n 个 丑数 。

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

丑数 就是只包含质因数 2、3 和/或 5 的正整数。

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

 

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

示例 1：

#+begin_html
  </p>
#+end_html

#+begin_html
  <pre>
  <strong>输入：</strong>n = 10
  <strong>输出：</strong>12
  <strong>解释：</strong>[1, 2, 3, 4, 5, 6, 8, 9, 10, 12] 是由前 10 个丑数组成的序列。
  </pre>
#+end_html

#+begin_html
  <p>
#+end_html

示例 2：

#+begin_html
  </p>
#+end_html

#+begin_html
  <pre>
  <strong>输入：</strong>n = 1
  <strong>输出：</strong>1
  <strong>解释：</strong>1 通常被视为丑数。
  </pre>
#+end_html

#+begin_html
  <p>
#+end_html

 

#+begin_html
  </p>
#+end_html

#+begin_html
  <p>
#+end_html

提示：

#+begin_html
  </p>
#+end_html

#+begin_html
  <ul>
#+end_html

#+begin_html
  <li>
#+end_html

1 <= n <= 1690

#+begin_html
  </li>
#+end_html

#+begin_html
  </ul>
#+end_html

** 解法
   :PROPERTIES:
   :CUSTOM_ID: 解法
   :END:

#+begin_html
  <!-- 这里可写通用的实现逻辑 -->
#+end_html

动态规划法。

定义数组 dp，=dp[i - 1]= 表示第 i 个丑数，那么第 n 个丑数就是
=dp[n - 1]=。最小的丑数是 1，所以 =dp[0] = 1=。

定义 3 个指针
p2，p3，p5，表示下一个丑数是当前指针指向的丑数乘以对应的质因数。初始时，三个指针的值都指向
0。

当
=i∈[1,n)=，=dp[i] = min(dp[p2] * 2, dp[p3] * 3, dp[p5] * 5)=，然后分别比较
=dp[i]= 与 =dp[p2] * 2=、=dp[p3] * 3=、=dp[p5] * 5=
是否相等，若是，则对应的指针加 1。

最后返回 =dp[n - 1]= 即可。

#+begin_html
  <!-- tabs:start -->
#+end_html

*** *Python3*
    :PROPERTIES:
    :CUSTOM_ID: python3
    :END:

#+begin_html
  <!-- 这里可写当前语言的特殊实现逻辑 -->
#+end_html

#+begin_src python
  class Solution:
      def nthUglyNumber(self, n: int) -> int:
          dp = [1] * n
          p2 = p3 = p5 = 0
          for i in range(1, n):
              next2, next3, next5 = dp[p2] * 2, dp[p3] * 3, dp[p5] * 5
              dp[i] = min(next2, next3, next5)
              if dp[i] == next2:
                  p2 += 1
              if dp[i] == next3:
                  p3 += 1
              if dp[i] == next5:
                  p5 += 1
          return dp[n - 1]
#+end_src

*** *Java*
    :PROPERTIES:
    :CUSTOM_ID: java
    :END:

#+begin_html
  <!-- 这里可写当前语言的特殊实现逻辑 -->
#+end_html

#+begin_src java
  class Solution {
      public int nthUglyNumber(int n) {
          int[] dp = new int[n];
          dp[0] = 1;
          int p2 = 0, p3 = 0, p5 = 0;
          for (int i = 1; i < n; ++i) {
              int next2 = dp[p2] * 2, next3 = dp[p3] * 3, next5 = dp[p5] * 5;
              dp[i] = Math.min(next2, Math.min(next3, next5));
              if (dp[i] == next2) ++p2;
              if (dp[i] == next3) ++p3;
              if (dp[i] == next5) ++p5;
          }
          return dp[n - 1];
      }
  }
#+end_src

*** *C++*
    :PROPERTIES:
    :CUSTOM_ID: c
    :END:
#+begin_src cpp
  class Solution {
  public:
      int nthUglyNumber(int n) {
          vector<int> dp(n);
          dp[0] = 1;
          int p2 = 0, p3 = 0, p5 = 0;
          for (int i = 1; i < n; ++i) {
              int next2 = dp[p2] * 2, next3 = dp[p3] * 3, next5 = dp[p5] * 5;
              dp[i] = min(next2, min(next3, next5));
              if (dp[i] == next2) ++p2;
              if (dp[i] == next3) ++p3;
              if (dp[i] == next5) ++p5;
          }
          return dp[n - 1];
      }
  };
#+end_src

*** *JavaScript*
    :PROPERTIES:
    :CUSTOM_ID: javascript
    :END:
#+begin_src js
  /**
   * @param {number} n
   * @return {number}
   */
  var nthUglyNumber = function (n) {
    let dp = [1];
    let p2 = 0,
      p3 = 0,
      p5 = 0;
    for (let i = 1; i < n; ++i) {
      const next2 = dp[p2] * 2,
        next3 = dp[p3] * 3,
        next5 = dp[p5] * 5;
      dp[i] = Math.min(next2, Math.min(next3, next5));
      if (dp[i] == next2) ++p2;
      if (dp[i] == next3) ++p3;
      if (dp[i] == next5) ++p5;
      dp.push(dp[i]);
    }
    return dp[n - 1];
  };
#+end_src

*** *Go*
    :PROPERTIES:
    :CUSTOM_ID: go
    :END:
#+begin_example
  func nthUglyNumber(n int) int {
      dp := make([]int, n)
      dp[0] = 1
      p2, p3, p5 := 0, 0, 0
      for i := 1; i < n; i++ {
          next2, next3, next5 := dp[p2]*2, dp[p3]*3, dp[p5]*5
          dp[i] = min(next2, min(next3, next5))
          if dp[i] == next2 {
              p2++
          }
          if dp[i] == next3 {
              p3++
          }
          if dp[i] == next5 {
              p5++
          }
      }
      return dp[n-1]
  }

  func min(a, b int) int {
      if a < b {
          return a
      }
      return b
  }
#+end_example

*** *...*
    :PROPERTIES:
    :CUSTOM_ID: section
    :END:
#+begin_example
#+end_example

#+begin_html
  <!-- tabs:end -->
#+end_html
